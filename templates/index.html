<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Business Model Risk Lens</title>
  <style>
    /* Base styles */
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f7fa;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 20px;
    }
    form {
      max-width: 1000px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 5px;
      font-size: 0.95rem;
    }
    select {
      width: 100%;
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 0.95rem;
    }
    .hint {
      font-size: 0.8rem;
      color: #7f8c8d;
      margin-top: 4px;
    }
    button {
      grid-column: 1 / -1;
      padding: 12px;
      background-color: #3498db;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }
    button:hover {
      background-color: #2980b9;
    }
    #output {
      grid-column: 1 / -1;
      background-color: #ecf0f1;
      padding: 15px;
      border-radius: 5px;
      white-space: pre-wrap;
      font-size: 0.95rem;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>Business Model Risk Lens</h1>

  <form id="bmcForm">
    <!-- 1. Revenue Streams -->
    <div>
      <label for="Revenue Streams">Revenue Streams</label>
      <select name="Revenue Streams" id="Revenue Streams">
        <option>Single revenue stream</option>
        <option>Advertising only</option>
        <option>Subscription model</option>
        <option>Freemium with upsell</option>
        <option>Multiple diversified streams</option>
      </select>
      <div class="hint">Diverse revenue sources reduce financial risk.</div>
    </div>

    <!-- 2. Customer Segments -->
    <div>
      <label for="Customer Segments">Customer Segments</label>
      <select name="Customer Segments" id="Customer Segments">
        <option>Undefined target audience</option>
        <option>Broad mass market</option>
        <option>Single niche segment</option>
        <option>Well-researched audience</option>
        <option>Multiple validated segments</option>
      </select>
      <div class="hint">Who your business serves; clarity lowers uncertainty.</div>
    </div>

    <!-- 3. Channels -->
    <div>
      <label for="Channels">Channels</label>
      <select name="Channels" id="Channels">
        <option>Single online channel</option>
        <option>Physical retail only</option>
        <option>Mix of online and offline</option>
        <option>Partner-driven distribution</option>
        <option>Omnichannel strategy</option>
      </select>
      <div class="hint">Multiple reliable channels improve reach and stability.</div>
    </div>

    <!-- 4. Value Proposition -->
    <div>
      <label for="Value Proposition">Value Proposition</n   label>
      <select name="Value Proposition" id="Value Proposition">
        <option>Undifferentiated product</option>
        <option>Low-cost advantage only</option>
        <option>Unique and defensible offering</option>
        <option>Innovation-driven</option>
        <option>Sustainability-focused</option>
      </select>
      <div class="hint">Strong, unique value propositions reduce competitive threat.</div>
    </div>

    <!-- 5. Cost Structure -->
    <div>
      <label for="Cost Structure">Cost Structure</label>
      <select name="Cost Structure" id="Cost Structure">
        <option>High fixed costs</option>
        <option>High variable costs</option>
        <option>Balanced cost structure</option>
        <option>Low operational costs</option>
        <option>Unstable or unpredictable costs</option>
      </select>
      <div class="hint">Predictable and balanced costs reduce financial risk.</div>
    </div>

    <!-- 6. Key Resources -->
    <div>
      <label for="Key Resources">Key Resources</label>
      <select name="Key Resources" id="Key Resources">
        <option>Lack of critical resources</option>
        <option>Reliance on single supplier</option>
        <option>Strong internal resources</option>
        <option>Access to external partnerships</option>
        <option>Fully optimized resource network</option>
      </select>
      <div class="hint">Diversified resources and suppliers improve resilience.</div>
    </div>

    <!-- 7. Key Activities -->
    <div>
      <label for="Key Activities">Key Activities</label>
      <select name="Key Activities" id="Key Activities">
        <option>Operational inefficiencies</option>
        <option>Lack of key activities</option>
        <option>Efficient, well-defined activities</option>
        <option>R&D heavy focus</option>
        <option>Balanced activity mix</option>
      </select>
      <div class="hint">Well-defined activities support scalable operations.</div>
    </div>

    <!-- 8. Key Partners -->
    <div>
      <label for="Key Partners">Key Partners</label>
      <select name="Key Partners" id="Key Partners">
        <option>No strategic partnerships</option>
        <option>Dependent on few partners</option>
        <option>Diverse partner network</option>
        <option>Joint ventures and alliances</option>
        <option>Strong long-term alliances</option>
      </select>
      <div class="hint">Strong partnerships diversify risk and enhance capability.</div>
    </div>

    <!-- 9. Customer Relationships -->
    <div>
      <label for="Customer Relationships">Customer Relationships</label>
      <select name="Customer Relationships" id="Customer Relationships">
        <option>Minimal customer engagement</option>
        <option>Automated or self-service only</option>
        <option>Dedicated account management</option>
        <option>Community-driven engagement</option>
        <option>Multi-tiered support system</option>
      </select>
      <div class="hint">Strong relationships drive loyalty and reduce churn.</div>
    </div>

    <!-- Submit button -->
    <button type="submit">Evaluate Risk</button>

    <!-- Output area -->
    <div id="output">Results will appear here</div>
  </form>

  <script>
    document.getElementById('bmcForm').onsubmit = async e => {
      e.preventDefault();
      const form = new FormData(e.target);
      const data = Object.fromEntries(form.entries());
      const res = await fetch('/evaluate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });
      const json = await res.json();
      let outputText = `Total Risk: ${json.total_risk}/10 - ${json.overall_level}\n\nDetails:\n`;
      for (const [section, score] of Object.entries(json.scores)) {
        outputText += `${section}: ${score}/10 - ${json.risk_levels[section]}\n`;
      }
      outputText += `\nRecommendations:\n` + Object.values(json.recommendations).flat().map(r => `â€¢ ${r}`).join('\n');
      document.getElementById('output').textContent = outputText;
    };
  </script>
</body>
</html>
